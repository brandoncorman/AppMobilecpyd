{"remainingRequest":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/opt/lampp/htdocs/AppMobilecpyd/src/views/Login.vue?vue&type=style&index=0&id=26084dc2&scoped=true&lang=css","dependencies":[{"path":"/opt/lampp/htdocs/AppMobilecpyd/src/views/Login.vue","mtime":1640460400871},{"path":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/css-loader/dist/cjs.js","mtime":1639936075214},{"path":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1639936074766},{"path":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/postcss-loader/src/index.js","mtime":1639936076586},{"path":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/cache-loader/dist/cjs.js","mtime":1639936074938},{"path":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1639936074766}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5sb2dvIHsKICBkaXNwbGF5OiBibG9jazsKICBtYXJnaW46IDI0cHggYXV0bzsKICBtYXgtaGVpZ2h0OiA5NnB4Owp9Cgppb24tYnV0dG9uIHsKICBtYXJnaW46IDEwcHg7Cn0KCi5vYXV0aC1idG5zIHsKICBtYXJnaW46IDQwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Cg=="},{"version":3,"sources":["/opt/lampp/htdocs/AppMobilecpyd/src/views/Login.vue"],"names":[],"mappings":";AA0HA,CAAC,CAAC,CAAC,CAAC,EAAE;EACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAClB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACd;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB","file":"/opt/lampp/htdocs/AppMobilecpyd/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\n  <ion-page>\n    <ion-content class=\"ion-padding\">\n      <img\n        class=\"logo\"\n        src=\"..\\assets\\img\\logo_utem_png.png\"\n      />\n      <!-- <form>\n        <ion-list>\n          <ion-item>\n            <ion-label>Email</ion-label>\n            <ion-input type=\"email\" v-model=\"email\"></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-label>Clave</ion-label>\n            <ion-input type=\"password\" v-model=\"password\"></ion-input>\n          </ion-item>\n        </ion-list>\n      </form> -->\n\n        <!-- <ion-button expand=\"block\" :routerLink=\"{ name: 'profile' }\" >Iniciar sesión</ion-button>\n        <ion-button color=\"danger\" expand=\"block\">\n          Este botón no hace nada\n        </ion-button> -->\n\n\n        <div class=\"oauth-btns\">\n          Iniciar sesión con Utem.cl\n        <ion-button expand=\"block\" @click=\"googleAuth\"><ion-icon slot=\"start\" :icon=\"logoGoogle\" />Google Utem</ion-button>\n        </div>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script>\nimport {\n  IonPage,\n  IonContent,\n /*  IonList,\n  IonItem,\n  IonLabel,\n  IonInput, */\n  IonButton,\n  IonIcon\n} from \"@ionic/vue\";\n\nimport { logoGoogle } from \"ionicons/icons\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    IonPage,\n    IonContent,\n    /* IonList,\n    IonItem,\n    IonLabel,\n    IonInput, */\n    IonButton,\n    IonIcon\n  },\n  data() {\n    return {\n      email: null,\n      password: null,\n      googleUserProfile: undefined\n    };\n  },\n  setup() {\n    return {\n      logoGoogle\n    }\n  },\n  methods: {\n    login() {\n      console.log(this.user);\n    },\n    googleAuth() {\n        const gapi = window.gapi;\n        const clientId =\"489748739332-lqo3a60is9pe4nfqqudnok4ff6b1ekef.apps.googleusercontent.com\";\n        const apiKey =\"AIzaSyBCUwXORDTNZujm27yzs0UIDl1BgL8l9cg\";\n        const discoveryDocs =[\"https://www.googleapis.com/discovery/v1/apis/oauth2/v2/rest\"];\n        const scope =\"https://www.googleapis.com/auth/userinfo.profile\";\n        gapi.load(\"client:auth2\", () => {\n            gapi.client.init({\n                apiKey,\n                clientId,\n                discoveryDocs,\n                scope,\n            }).then(() => {\n                if (gapi.auth2.getAuthInstance().isSignedIn.get()) {\n                    this.googleUserProfile = gapi.auth2.getAuthInstance().currentUser.get();\n                    this.loginApiCall(this.googleUserProfile);\n                    console.log(\"logged in...\");\n                } else {\n                    gapi.auth2.getAuthInstance().signIn().then(() => {\n                    this.googleUserProfile = gapi.auth2.getAuthInstance().currentUser.get();\n                    this.loginApiCall(this.googleUserProfile);\n                    console.log(\"NOT logged in...\");\n                    }).catch(err => {\n                        /* alert(`Google auth error: ${err}`); */\n                        /* alert(`Google auth error: ${err}`); */\n                        console.log(err);\n                    });\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n                /* alert(err); */\n            })\n        });\n    },\n    loginApiCall(data) {\n      // API call to handle googleUserProfile data\n      // then redirect to home/profile page\n      console.log(\"googleUserProfile\", data);\n      this.$router.push(\"/tabs/tab1\");\n    }\n  },\n};\n</script>\n\n<style scoped>\n.logo {\n  display: block;\n  margin: 24px auto;\n  max-height: 96px;\n}\n\nion-button {\n  margin: 10px;\n}\n\n.oauth-btns {\n  margin: 40px;\n  text-align: center;\n}\n</style>"]}]}