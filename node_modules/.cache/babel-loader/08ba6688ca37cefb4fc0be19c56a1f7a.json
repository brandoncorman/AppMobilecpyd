{"remainingRequest":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/thread-loader/dist/cjs.js!/opt/lampp/htdocs/AppMobilecpyd/node_modules/babel-loader/lib/index.js!/opt/lampp/htdocs/AppMobilecpyd/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/opt/lampp/htdocs/AppMobilecpyd/node_modules/cache-loader/dist/cjs.js??ref--0-0!/opt/lampp/htdocs/AppMobilecpyd/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/opt/lampp/htdocs/AppMobilecpyd/src/views/Login.vue?vue&type=template&id=3a08008f&scoped=true","dependencies":[{"path":"/opt/lampp/htdocs/AppMobilecpyd/src/views/Login.vue","mtime":1640572114816},{"path":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/cache-loader/dist/cjs.js","mtime":1639936074938},{"path":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/thread-loader/dist/cjs.js","mtime":1639936076954},{"path":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/babel-loader/lib/index.js","mtime":1639936074850},{"path":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1639936074766},{"path":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/cache-loader/dist/cjs.js","mtime":1639936074938},{"path":"/opt/lampp/htdocs/AppMobilecpyd/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1639936074766}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgX2ltcG9ydHNfMCBmcm9tICcuLi9hc3NldHMvaW1nL2xvZ29fdXRlbV9wbmcucG5nJzsKCmNvbnN0IF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtM2EwODAwOGYiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTNhMDgwMDhmIik7Cgpjb25zdCBfaG9pc3RlZF8xID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaW1nIiwgewogIGNsYXNzOiAibG9nbyIsCiAgc3JjOiBfaW1wb3J0c18wCn0sIG51bGwsIC0xKTsKCmNvbnN0IF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJvYXV0aC1idG5zIgp9OwoKY29uc3QgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgSW5pY2lhciBzZXNpw7NuIGNvbiBVdGVtLmNsICIpOwoKY29uc3QgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCJHb29nbGUgVXRlbSIpOwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCBjb25zdCByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZCgoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSA9PiB7CiAgY29uc3QgX2NvbXBvbmVudF9pb25faWNvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJpb24taWNvbiIpOwoKICBjb25zdCBfY29tcG9uZW50X2lvbl9idXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiaW9uLWJ1dHRvbiIpOwoKICBjb25zdCBfY29tcG9uZW50X2lvbl9jb250ZW50ID0gX3Jlc29sdmVDb21wb25lbnQoImlvbi1jb250ZW50Iik7CgogIGNvbnN0IF9jb21wb25lbnRfaW9uX3BhZ2UgPSBfcmVzb2x2ZUNvbXBvbmVudCgiaW9uLXBhZ2UiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfaW9uX3BhZ2UsIG51bGwsIHsKICAgIGRlZmF1bHQ6IF93aXRoSWQoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2lvbl9jb250ZW50LCB7CiAgICAgIGNsYXNzOiAiaW9uLXBhZGRpbmciCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoSWQoKCkgPT4gW19ob2lzdGVkXzEsIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19ob2lzdGVkXzMsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2lvbl9idXR0b24sIHsKICAgICAgICBleHBhbmQ6ICJibG9jayIsCiAgICAgICAgb25DbGljazogJG9wdGlvbnMuZ29vZ2xlQXV0aAogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhJZCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaW9uX2ljb24sIHsKICAgICAgICAgIHNsb3Q6ICJzdGFydCIsCiAgICAgICAgICBpY29uOiAkc2V0dXAubG9nb0dvb2dsZQogICAgICAgIH0sIG51bGwsIDgsIFsiaWNvbiJdKSwgX2hvaXN0ZWRfNF0pLAogICAgICAgIF86IDEKICAgICAgfSwgOCwgWyJvbkNsaWNrIl0pXSldKSwKICAgICAgXzogMQogICAgfSldKSwKICAgIF86IDEKICB9KTsKfSk7"},{"version":3,"sources":["/opt/lampp/htdocs/AppMobilecpyd/src/views/Login.vue"],"names":[],"mappings":";OAKQ,U,MAAqC,iC;;;;;;gCAFvC,YAAA,CAGE,KAHF,EAGE;AAFA,EAAA,KAAK,EAAC,MAEN;AADA,EAAA,GAAqC,EAArC;AACA,CAHF,E,IAAA,E,EAAA,C;;;AAIO,EAAA,KAAK,EAAC;;;iDAAa,8B;;iDAEmE,a;;;;;;;;;;;;;uBARjG,YAAA,CAWW,mBAXX,EAWW,IAXX,EAWW;qBAVT,MASc,CATd,YAAA,CASc,sBATd,EASc;AATD,MAAA,KAAK,EAAC;AASL,KATd,EAAgC;uBAC9B,MAGE,CAHF,UAGE,EACA,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,C,UAAA,EADN,YAAA,CAAmH,qBAAnH,EAAmH;AAAvG,QAAA,MAAM,EAAC,OAAgG;AAAvF,QAAA,OAAK,EAAE,QAAA,CAAA;AAAgF,OAAnH,E;yBAA+C,MAA4C,CAA5C,YAAA,CAA4C,mBAA5C,EAA4C;AAAlC,UAAA,IAAI,EAAC,OAA6B;AAApB,UAAA,IAAI,EAAE,MAAA,CAAA;AAAc,SAA5C,E,IAAA,E,CAAA,E,QAAA,CAA4C,E,UAAA,C;;OAA3F,E,CAAA,E,WAAA,CACM,CAHN,CADA,C,CAJ4B;;AAAA,KAAhC,CASc,C,CACL;;AAAA,GAXX,C","sourcesContent":["<template>\n  <ion-page>\n    <ion-content class=\"ion-padding\">\n      <img\n        class=\"logo\"\n        src=\"..\\assets\\img\\logo_utem_png.png\"\n      />\n        <div class=\"oauth-btns\">\n          Iniciar sesi√≥n con Utem.cl\n        <ion-button expand=\"block\" @click=\"googleAuth\"><ion-icon slot=\"start\" :icon=\"logoGoogle\" />Google Utem</ion-button>\n        </div>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script>\nimport {\n  IonPage,\n  IonContent,\n  IonButton,\n  IonIcon\n} from \"@ionic/vue\";\n\nimport { logoGoogle } from \"ionicons/icons\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    IonPage,\n    IonContent,\n    IonButton,\n    IonIcon\n  },\n  data() {\n    return {\n      googleUserProfile: undefined\n    };\n  },\n  setup() {\n    return {\n      logoGoogle\n    }\n  },\n  methods: {\n    login() {\n      console.log(this.user);\n    },\n    googleAuth() {\n        const gapi = window.gapi;\n        const clientId =\"489748739332-lqo3a60is9pe4nfqqudnok4ff6b1ekef.apps.googleusercontent.com\";\n        const apiKey =\"AIzaSyBCUwXORDTNZujm27yzs0UIDl1BgL8l9cg\";\n        const discoveryDocs =[\"https://www.googleapis.com/discovery/v1/apis/oauth2/v2/rest\"];\n        const scope =\"https://www.googleapis.com/auth/userinfo.profile\";\n        gapi.load(\"client:auth2\", () => {\n            gapi.client.init({\n                apiKey,\n                clientId,\n                discoveryDocs,\n                scope,\n            }).then(() => {\n                if (gapi.auth2.getAuthInstance().isSignedIn.get()) {\n                    this.googleUserProfile = gapi.auth2.getAuthInstance().currentUser.get();\n                    this.loginApiCall(this.googleUserProfile);\n                    console.log(\"logged in...\");\n                } else {\n                    gapi.auth2.getAuthInstance().signIn().then(() => {\n                    this.googleUserProfile = gapi.auth2.getAuthInstance().currentUser.get();\n                    this.loginApiCall(this.googleUserProfile);\n                    console.log(\"NOT logged in...\");\n                    }).catch(err => {\n                        console.log(err);\n                    });\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n        });\n    },\n    loginApiCall(data) {\n      // API call to handle googleUserProfile data\n      // then redirect to home/profile page\n      console.log(\"googleUserProfile\", data);\n      this.$router.push(\"/tabs/tab1\");\n    }\n  },\n};\n</script>\n\n<style scoped>\n.logo {\n  display: block;\n  margin: 24px auto;\n  max-height: 96px;\n}\n\nion-button {\n  margin: 10px;\n}\n\n.oauth-btns {\n  margin: 40px;\n  text-align: center;\n}\n</style>"],"sourceRoot":""}]}